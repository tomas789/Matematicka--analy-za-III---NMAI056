\begin{definice}
Nechť $(P, \varrho)$ je metrický prostor a nechť $x_n \in P, n \in \mathbb{N}$, je posloupnost bodů z $P$. Posloupnost $\{ x_n \}_{n \in \mathbb{N}}$ nazveme \emph{cauchyovskou}, pokud
$$\forall \varepsilon > 0 \ \exists n_0 \in \mathbb{N} \ \forall m,n \geq n_0 \textrm{ : } \varrho(x_n, x_m) < \varepsilon$$
Posloupnost $\{ x_n \}_{n \in \mathbb{N}}$ nezveme \emph{konvergentní}, pokud existuje $x \in P$ tak, že
$$\lim_{n \rightarrow \infty} \varrho (x_n, x) = 0$$
Řekneme, že $(P, \varrho)$ je \emph{úplný}, pokud je každá cauchzovská poslouopnost konvergentní.
\end{definice}

\begin{vetal}[úplnost $\mathbb{R}^n$]
Metrický prostor $(\mathbb{R}, |.|)$ je úplný.
\end{vetal}

\begin{proof}
\underline{Připomeňme:} $x_n$ je konvergentní v $\mathbb{R}$ $\Leftrightarrow$ splňuje BC-podmínku, tedy $\forall \varepsilon > 0 \ \exists n_0 \ \forall m,k \geq n_0 \textrm{ : } |x_m - x_k| < \varepsilon$

Nechť $y_k$ je cauchyovská posloupnost v $\mathbb{R}^n$, chceme dokázat $\exists y \in \mathbb{R}^n \textrm{ : } y_k \overset{k \to \infty}{\to} y$ 

$|y_k^1 - y_m^1| \leq |y_k - y_m|$ dostaneme, že $y_k^1$ je cauchyovská v $\mathbb{R}$. Z BC-podmínky plyne existence $y^1 \in \mathbb{R}$ tak, že $y_k^1 \overset{\textrm{v }\mathbb{R}}{\to} y^1$. Analogicky nalezneme $y^2, \ldots, y^n \in \mathbb{R}$ tak, že $\forall i \in \{ 2, \ldots, n \} \textrm{ : } y_k^i \to y^i$, tedy $y_k \overset{\textrm{v } \mathbb{R}}{\to} y$, protože konvergence v $\mathbb{R}^n$ je konvergence pro $k \to \infty$ po složkách.
\end{proof}


\begin{priklad}
\begin{enumerate}
\item Metrický prostor $(Q, |.|)$ není úplný.
\item Metrický prostor všech spojitých funkcí $C([0, 1])$ s metrikou
$$\varrho_1(f,g) = (R) \int_0^1 |f(x) - g(x)| dx$$
není úplný.
\item Metrický prostor všech Lebesqueovsky integrovatelných funkcí $L([0,1])$ s metrikou
$$\varrho(f,g) = (L) \int_0^1 |f(x)-g(x)|dx$$
je úplný
\end{enumerate}
\end{priklad}

\begin{vetat}[úplnost spojitých funkcí]
Metrický prostor spojitých funkcí $(C([0,1]), \varrho)$ se supremovou metrikou
$$\varrho(f,g) = \sup_{x \in [0,1]} |f(x) - g(x)|$$
je úplný
\end{vetat}

\begin{proof}
Nechť $f_n$ je cauchyovská posloupnost, tedy 
$$\forall \varepsilon > 0 \ \exists n_0 \ \forall m,n \geq n_0 \ \forall x \in [0,1] \textrm{ : } |f_m(x) - f_n(x)| < \varepsilon \quad \circledast$$

Pro pevné $x \in [0,1]$ $\forall \varepsilon > 0 \ \exists n_0 \ \forall m,n \geq 0 \textrm{ : } |\underbrace{f_n(x)}_{a_n} - \underbrace{f_m(x)}_{a_m}| < \varepsilon$. Tedy posloupnost reálných čísel $f_n(x)$ je cauchyovská. Z BC-podmínky plyne, že existuje její limita $f(x) \in \mathbb{R}$.

V $\circledast$ proveďme 
$$\lim_{m \to \infty} \textrm{ : } \forall \varepsilon > 0 \ \exists n_0 \ \forall n \geq n_0 \ \forall x \in [0,1] \textrm{ : } |f_n(x)-f(x)| \leq \varepsilon$$
$$\Leftrightarrow f_n(x) \con f(x) \textrm{ \& } f_n \textrm{ spojité} \Rightarrow f \textrm{ je spojitá}$$
$$\forall \varepsilon > 0 \ \exists n_0 \ \forall n \geq n_0 \textrm{ : } \varrho (f_n,f) \leq \varepsilon$$
$$\Rightarrow f_n \overset{\varrho}{\to} f, \textrm{tedy $C[0,1]$ je úplný}$$
\end{proof}


\begin{vetat}[Banachova věta o kontrakci]
\label{Banachova věta o kontrakci}
Nechť $(P, \varrho)$ je úplný metrický prostor a $K < 1$. Nechť $T \textrm{ : } P \rightarrow P$ je zobrazení takové, že 
$$\varrho(Tx, Ty) \leq K \varrho(x,y) \quad \forall x,y \in P$$
Pak existuje právě jeden bod $x_0 \in P$ tak, že $T(x_0)=x_0$
\end{vetat}

\begin{proof}
\textbf{jednoznačnost: } Nechť $T(x_0) = x_0$ a $T(\tilde{x}_0) = \tilde{x}_0$, $x_0 \neq \tilde{x}_0$. Pak 
$$K \varrho (x_0, \tilde{x}_0) \geq \varrho (T(x_0),T(\tilde{x}_0)) = \varrho (x_0, \tilde{x}_0) \Rightarrow K \geq 1$$
a to je spor.

\textbf{existence: } Zvolme $x_1 \in P$ libovolně a položme $x_{k+1} = T(x_k)$. Tvrdíme, že je cauchyovská.
$$\varrho( x_{k+1}, x_k ) = \varrho (T(x_k), T(x_{k-1})) \leq K \varrho (x_k,x_{k-1}) \leq K^2 \varrho (x_{k-1},x_{k-2}) \leq \ldots \leq K^{k-1} \varrho (x_2, x_1)$$

Nechť $m,n \geq n_0$ a navíc $m > n$
$$\varrho (x_m, x_n) \leq \varrho (x_m, x_{m-1}) + \varrho (x_{m-1}, x_{m-2}) + \ldots + \varrho (x_{n+1}, x_n) $$
$$\leq K^{m-2} \varrho (x_2, x_1) + \ldots + K^{n-1} \varrho (x_2, x_1) \leq K^{n-1} \varrho (x_2, x_1) \frac{1}{1-K} \overset{x \to \infty}{\to} 0$$

Z toho dostaneme cauchyho vlastnost $x_2$. Z úplnosti $P$ $\exists x_0 \textrm{ : } x_n \overset{P}{\to} x_0$. Tvrdím $T(x_0)=x_0$
\begin{eqnarray*}
x_{n+1} & = & T(x_n) \\
\lim_{n \to \infty} \quad x_0 & = & T(x_0)
\end{eqnarray*}

$x_n \to x_0 \textrm{ : } \varrho (x_m, x_0) \to 0$, $\varrho (T(x_n), T(x_0)) \leq K \varrho (x_n, x_0) \to 0$
\end{proof}

\begin{poznamka}
Věta T\ref{Banachova věta o kontrakci} se používá například v \emph{fractal compression}. Touto metodou se však dosahuje horších výsledků než například konpresí \emph{JPEG} a proto se v praxi nepoužívá.
\end{poznamka}



\begin{vetat}[o zúplnění metrického prostoru]
Nechť $(Q, \varrho)$ je metrický prostor. Pak existuje úplný metrický prostor $(P, \sigma)$ tak, že $Q \subset P$ a 
$$\sigma(x,y) = \varrho(x,y) \quad \forall x,y \in Q$$
\end{vetat}

\begin{proof}
Položme $P = C(Q)$ s metrikou $\varrho (f,g) = \sup_{y \in Q} | f(x)-g(x) |$. 

\begin{poznamka} 
Důkaz je analogický a důkazu věty o úplnosti $C([0,1])$
\end{poznamka}

\begin{figure}[!h] \begin{center}
\includegraphics{obrazky.5}
\end{center} \end{figure}

$x \in Q \textrm{ <$\cdots$> } f_x(y) = \varrho(x,y) \in C(Q)$. 

Pro $x \neq z$ a $f_x \neq f_z$ chceme $\sigma (x,z) = \varrho (f_x, f_z)$
$$\varrho (f_x, f_z) = \sup_{y \in Q} | \sigma (x,y) - \sigma (z,y) | \overset{\textrm{$\triangle$ nerovnost}}{\leq} \sigma (x,z) \Rightarrow \varrho (f_x, f_z) = \sigma(x,z)$$ 
\end{proof}


\begin{vetal}[úplnost a uzavřená podmnožina]
Nechť $(P, \varrho)$ je úplný metrický prostor a $F \subset P$ je uzavřená podmnožina. Pak je metrický prostor $(F, \varrho)$ úplný.
\end{vetal}

\begin{proof}
\textbf{Připomeň: } Charakterizace úplných množin: $F \subset F \textrm{uzavřená}$, $x_n \in F$ a $x_n \overset{P}{\to} x_0$ pak $x_0 \in F$. 

"Když je množina uzavřená, pak se z ní nelze vykonvergovat ven"

Chceme $(F, \varrho)$ je úplný. Nechť $x_n \in F$ je cauchyovská v $(P, \varrho)\Rightarrow x_n$ je cauchyovská v $(P, \varrho) \overset{\textrm{P je úplný}}{\Rightarrow} \exists x_0 \in P \textrm{ : } x_n \to x_0 \overset{\textrm{Připomeň}}{\Rightarrow} x_0 \in F$ tedy $(F, \varrho)$ je úplný.
\end{proof}

\begin{definice}
Nechť $(P, \varrho)$ je úplný metrický prostor. Řekneme, že množina $V \subset P$ je hustá, pokud pro každé $x \in P$ a $r > 0$ platí $B(x,r) \cap V \neq 0$
\end{definice}

\begin{vetat}[Baire]
\label{Baire}
Nechť $(P, \varrho)$ je úplný metrický prostor. Potom průnik každého spočetného systému hustých otevřených podmnožin $P$ je množina hustá v P.
\end{vetat}

\begin{proof}
$V_1$, $V_2$, $V_3$, $\ldots$ jsou otevřené husté množiny. Nechť $x \in P$, $r > 0$ chceme 
$$B(x,r) \cap \bigcap_{i=1}^\infty V_i \neq \emptyset$$ 

$V_1$ je hustá $\exists x_1 \in V_1 \cap B(x,r)$. Toto je otevřená množina $\Rightarrow \exists r > 0 \textrm{ : } B(x_1, r_1) \subset V_1 \cap B(x,r)$

$V_2$ je hustá $\exists x_2 \in V_2 \cap B(x_1,r_1)$. Toto je otevřená množina $\Rightarrow \exists r_2 > 0 \textrm{ : } B(x_2, r_2) \subset V_2 \cap B(x_1,r_1) (\cap V_1)$

A v tomto smyslu dále.

Nyní budeme postupovat mat. indukcí: $V_k$ je hustá $\exists x \in V_k \cap B(x_{k-1}, r_{k-1})$ toto je otevřená množina $\Rightarrow \exists x_k > 0 \textrm{ : } B(x_k,r_k) \subset V_k \cap B(x_{k-1}, r_{k-1}) \cap V_1 \cap V_2 \cap \ldots \cap V_{k-1}$.

Bez újmy na obecnosti $r_k \to 0$. Nyní $\forall m,n \geq n_0 \ x_m,x_n \in B(x_{n_0}, r_{n_0}) \Rightarrow \varrho (x_m, x_n) < 2 r_{n_0} \quad (<\varepsilon)$.
Z tohoto snadno plyne cauchyho vlastnost pro $x_n$. $P$ je úplný $\Rightarrow \exists x_0, x_n \to x_0$. Nyní 
$$x_0 \in B(x,r) \cap \bigcap_{i=1}^\infty V_i$$
\end{proof}


\begin{vetat}[existence nediferencovatelné funkce]
Existuje funkce $f \in C([0,1])$, která není diferencovatelná v žádném bodě.
\end{vetat}

\begin{proof}
Nechť 
$$A_n = \left\{ f \in C([0,1]) \textrm{ : } \exists t \in [0,1] \ \forall s \in [0,1]  \textrm{ : } |f(t)-f(s)| \leq n |s-t| \right\}$$
$$V_n = C([0,1]) \backslash A_n$$

Budeme dokazovat
\begin{enumerate}
\item \label{existence nediferencovatelné funkce - a} $A_n$ je uzavřená $\Rightarrow V_n$ je otevřená
\item \label{existence nediferencovatelné funkce - b} $f$ je diferencovatelná v $t \ \Rightarrow \exists n \textrm{ : } f \in A_n \ (f \notin V_n)$
\item \label{existence nediferencovatelné funkce - c} $V_n$ je hustá
\end{enumerate}

Pak z Věta T\ref{Baire} plyne $\bigcap_{n=1}^\infty V_n \neq \emptyset$. Nechť $f \in \bigcap_{n=1}^\infty V_n$, pak není diferencovatelná podle \ref{existence nediferencovatelné funkce - b}.

\ref{existence nediferencovatelné funkce - a} : chceme $f_k \in A_n$, $f_k \to f$, pak $f \in A_n$. $n$ je pevné.
$$f_k \in A_n \ \exists t_k \ \forall s \in [0,1] \textrm{ : } |f_k(t_k) - f_k(s)| \leq n |t_k-s|$$
$\exists$ podposloupnost $t_{k_l} \to t \in [0,1]$. BÚNO $t_k \to t$ (z původní posloupnosti vyškrtám členy pro které my to neplatí a z původní $t_{k_l}$ dostanu $t_k$ shodnou).

Nechť $s \in [0,1]$
\begin{eqnarray*}
|f(t)-f(s)| & \leq & |f(t)-f_k(t)|+|f_k(t)-f_k(t_k)|+|f_k(t_k)-f_k(s)|+|f_k(s)-f(s)| \\
& \leq & |f(t)-f_k(t)|+n|t-t_k| + n|t_k-s|+|f_k(s)-f(x)| \\
& \overset{k \to \infty}{\to} & 0 + n0 + n|t-s|+0
\end{eqnarray*}

Tedy $\forall s \textrm{ : } |f(t)-f(s)| \leq n|t-s| \Rightarrow f \in A_n$

\ref{existence nediferencovatelné funkce - b} : Mějme pevnou $f$ v t, $f^\prime(t)=a$. Pak 
$$\exists \delta > 0 \ \forall x \in [t-\delta, t+\delta] \cap [0,1] \textrm{ : } \left| \frac{f(x)-f(t)}{x-t} - a \right| < 1 $$
$$\Rightarrow \frac{f(x)-f(t)}{x-t} \in (a-1,a+1) \Rightarrow |f(x)-f(a)| \leq (|a|+1)|x-t|$$

Nechť $x \in [0,1] \backslash [t-\delta,t+\delta]$
$$|f(x)-f(t)| \leq 2 \sup_{[0,1]} |f| \frac{\delta}{\delta} \leq \frac{2 \sup_{[0,1]} |f|}{\delta} |x-t|$$

Zvolme $n > \max \left\{ |a|+1, \frac{2 \sup |f|}{\delta} \right\}$. Pak $f \in A_n$

\ref{existence nediferencovatelné funkce - c} : Nechť $g \in C([0,1])$, $r > 0$. Chceme $\exists f \in B(g,r) \cap V_n$, $n$ je pevné. $g$ je stejnoměrně spojitá, tedy $\exists \delta > 0 \ \forall x,y \in [0,1] \ |x-y| < \delta \Rightarrow |g(x)-g(y)| < \frac{r}{10}$.

Zkonstruujme funkci $z$ ("zubatice"). $z^\prime = \pm a$, $a > 3n$.

\begin{figure}[!h] \begin{center}
\includegraphics{obrazky.6}
\end{center} \end{figure}


Položme $f = g + z$, pak $f \in B(g,r)$
$$\varrho (f,g) = \sup |g + z + h| = \sup |z| = \frac{r}{2}$$
Pro spor: nechť $f \neq V_n$, tedy $f \in A_n$. Tedy máme $t \in [0,1]$ z definice $A_n$. Nyní nalezneme $s \in [0,1] \textrm{ : } |s-t| < \delta$
$$|z(t)-z(s)| \geq \frac{r}{2} \geq 3 n |t-s|$$
Nyní
$$|f(t)-f(s)| \geq |z(t)-z(s)|-|g(t)-g(s)| \geq \frac{r}{2} - \frac{r}{10} \geq 2 n |t-s| \Rightarrow f \notin A_n$$
a to je spor.
\end{proof}




